openapi: 3.0.0
servers:
  #  - url: //petstore.swagger.io/v2
  #    description: Default server
  #  - url: //petstore.swagger.io/sandbox
  #    description: Sandbox server
  - url: https://my.camps.digital
    description: Production server for subdomain *my*
info:
  version: 1.0.1
  title: CADI API Dokumentation
  license:
    name: Apache 2.0
    url: "http://www.apache.org/licenses/LICENSE-2.0.html"
  x-logo:
    url: "https://cdn.jsdelivr.net/gh/wirtschaftswunder-digital/API-Documentation@main/logo.png"
    altText: "CADI API Logo"
externalDocs:
  description: Dokumentation für die Integration von CADI Frontend Komponenten
  url: "https://wirtschaftswunder-digital.github.io/CADI-Documentation/"
tags:
  - name: "Öffentliche API"
    description: "API Endpunkte, die ohne Authentifizierung abgerufen von einem beliebigen Client abgerufen werden können. Die Daten sind öffentlich zugänglich und enthalten eine begrenzte Auswahl an Informationen."
  - name: "Geschlossene API"
    description: "API Endpunkte, die eine Authentifizierung erfordern. Die Authentifizierung erfolgt durch die Überprüfung des `Origin` Headers (der Absender der Anfrage). Nur Anfragen von registrierten Domains werden akzeptiert. Kontaktieren Sie uns bitte, falls Sie Zugriff auf die geschlossene API benötigen."
components:
  securitySchemes:
    CORS:
      type: apiKey
      in: header
      name: Origin
      description: Nur Anfragen von registrierten Domains werden akzeptiert.
  parameters:
    locale:
      name: locale
      in: query
      description: Sprache der Daten
      required: false
      schema:
        type: string
        example: en
        default: de
    anbieter-id:
      name: anbieter_id
      in: query
      description: ID des Anbieters
      required: true
      schema:
        type: integer
        format: int64
        example: 1
    host-id:
      name: host_id
      in: query
      description: Host ID des Anbieters
      required: true
      schema:
        type: integer
        format: int64
        example: 57
    destination-id:
      name: destination_id
      in: query
      description: ID der Destination
      required: true
      schema:
        type: integer
        format: int64
        example: 151
    termin-id:
      name: termin_id
      in: query
      description: ID des Termins
      required: true
      schema:
        type: integer
        format: int64
        example: 29239
    _termin-id:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][termin_id]
      required: true
      description: ID des Termins, für den die Buchung erstellt werden soll
      schema:
        type: integer
        example: 29222
    _vendor:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][vendor]
      required: true
      description: Name des Vendors
      schema:
        type: string
        example: Dev-Demo
    _vendor-quelle:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][vendor_quelle]
      required: true
      description: Quelle des Vendors
      schema:
        type: string
        example: Dev-Demo
    _zbbl:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][zubuchbareleistung_ids[]]
      required: true
      description: IDs der zubbuchbaren Leistungen, die der Kunde hinzufügen möchte.
      schema:
        type: array
        items:
          type: integer
          example: [227599, 227604]
    _anfrage:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][anfrage]
      required: true
      description: Zusätzliche Textanfrage des Kunden.
      schema:
        type: string
        example: "Mein Kind neigt dazu ihr Asthmaspray zu verlegen. Begründung: Meine Tochter ist für ihr Alter schon weit entwickelt und sehr eigenständig."
    _rabatte_attributes_name:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][rabatte_attributes][0][name]
      required: true
      description: Name des Rabatts
      schema:
        type: string
        example: "#ComeAgain22"
    _rabatte_attributes_summe:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][rabatte_attributes][0][summe]
      required: true
      description: Höhe des Rabatts
      schema:
        type: integer
        example: -80
    _rabatte_attributes_gutschein:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][rabatte_attributes][0][gutschein]
      required: true
      description: Angabe ob ein Gutscheincode verwendet wurde.
      schema:
        type: boolean
        example: true
    _abfahrt_id:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][abfahrt_id]
      required: true
      description: ID der Abfahrt
      schema:
        type: integer
        example: 84094781
    _rueckfahrt_id:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][rueckfahrt_id]
      required: true
      description: ID des Rückfahrt
      schema:
        type: integer
        example: 84114059
    _unterbringungsoption_id:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][unterbringungsoption_id]
      required: true
      description: ID der Unterbringungsoption
      schema:
        type: integer
        example: 44388
    _verpflegungsoption_id:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][verpflegungsoption_id]
      required: true
      description: ID der Verpflegungsoption
      schema:
        type: integer
        example: 34185
    _sportart:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][sportart]
      required: true
      description: Gewählte Sportart
      schema:
        type: string
        enum: [Ski, Snowboard]
        example: Ski
    _stufe:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][stufe]
      required: true
      description: Level für die gewählte Wintersportart. Die möglichen Werte können aus den geschlossenen API Endpunkt für die Destination entnommen werden (data -> attributes -> wintersport -> stufen).
      schema:
        type: string
        example: Stufe Rot (Fortgeschrittener 2)
    _golflevel:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][golflevel]
      required: true
      description: Golflevel des Reisenden. Die möglichen Werte können aus den geschlossenen API Endpunkt für die Destination entnommen werden (data -> attributes -> golflevel -> optionen).
      schema:
        type: string
        enum:
          - "Anfänger ohne Handicap"
          - "0 - 9"
          - "10 - 18"
          - "19 - 36"
          - "37+"
        example: 10 - 18
    _schwimmlevel:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][schwimmlevel]
      required: true
      description: Schwimmlevel des Reisenden. Die möglichen Werte können aus den geschlossenen API Endpunkt für die Destination entnommen werden (data -> attributes -> schwimmlevel -> optionen).
      schema:
        type: string
        example: Seepferdchen (Frühschwimmer)
    _shirt:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][shirt]
      required: true
      description: T-Shirt-Größe des Reisenden. Die möglichen Werte können aus den geschlossenen API Endpunkt für die Destination entnommen werden (data -> attributes -> shirt -> optionen).
      schema:
        type: string
        example: Woman S
    _verpflegungswunsch:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][verpflegungswunsch[]]
      required: true
      description: Verpflegungswunsch des Reisenden. Die möglichen Werte können aus den geschlossenen API Endpunkt für die Destination entnommen werden (data -> attributes -> verpflegungswunsch -> optionen [Array von Arrays [key, label]]).
      schema:
        type: array
        items:
          type: string
        example: [vegan, laktosefrei]
    _woher:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][woher[]]
      required: true
      description: Wie ist der Kunde auf die Reise aufmerksam geworden. Die möglichen Werte können aus den geschlossenen API Endpunkt für die Destination entnommen werden (data -> attributes -> woher_auswahl).
      schema:
        type: array
        items:
          type: string
        example: [newsletter]
    _notice_id:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][notice_answers_attributes][N][notice_id]
      required: false
      description: "**WICHTIG: [N] muss durch den Index der Benachrichtigung ersetzt werden!** ID der Benachrichtigung. Eine mögliche Benachrichtigung kann der Inhalt des Textfelds *Dauermedikamentation* sein. Die `notice_id` kann aus den Destinations-Daten der geschlossenen API entnommen werden (zum Beispiel aus `data.attributes.medikation.id`)."
      schema:
        type: integer
        example: 701
    _notice_text:
      in: query
      name: user[hauptperson_attributes][buchungen_attributes][0][notice_answers_attributes][0][text]
      required: false
      description: "**WICHTIG: [N] muss durch den Index der Benachrichtigung ersetzt werden!** Text für die Benachrichtigung. Eine mögliche Benachrichtigung kann der Inhalt des Textfelds *Dauermedikamentation* sein."
      schema:
        type: string
        example: "Mein Kind neigt dazu ihr Asthmaspray zu verlegen."
    _vorname:
      in: query
      name: user[hauptperson_attributes][vorname]
      required: true
      description: Der Vorname des Reisenden.
      schema:
        type: string
        example: "Max"
    _name:
      in: query
      name: user[hauptperson_attributes][name]
      required: true
      description: Der Nachname des Reisenden.
      schema:
        type: string
        example: "Mustermann"
    _geburtstag:
      in: query
      name: user[hauptperson_attributes][geburtstag]
      required: true
      description: Das Geburtsdatum des Reisenden.
      schema:
        type: string
        format: date (DD.MM.YYYY)
        example: "01.01.2005"
    _anrede_id:
      in: query
      name: user[hauptperson_attributes][anrede_id]
      required: true
      description: Die Anrede-ID des Reisenden. 0 = Herr, 1 = Frau.
      schema:
        enum:
          - 0
          - 1
        type: integer
    _divers:
      in: query
      name: user[hauptperson_attributes][divers]
      required: false
      description: Angabe, ob sich der Teilnehmer als divers identifiziert ist.
      schema:
        type: boolean
    _nation:
      in: query
      name: user[hauptperson_attributes][nation_attributes][iso]
      required: true
      description: Der ISO-Code des Nationalitätslandes des Reisenden. **Wichtig:** Der ISO-Code muss in Großbuchstaben angegeben werden.
      schema:
        type: string
        example: DE
    _freunde:
      in: query
      name: user[hauptperson_attributes][freunde]
      required: false
      description: Eine Liste der Freunde des Reisenden. Diese Angaben können für Zimmerbelegungen relevant sein.
      schema:
        type: string
        example: "Laura Mustermann, Tina Tester"
    _vorname_eltern:
      in: query
      name: user[hauptperson_attributes][vorname_eltern]
      required: false
      description: Der Vorname des Elternteils des Reisenden.
      schema:
        type: string
    _name_eltern:
      in: query
      name: user[hauptperson_attributes][name_eltern]
      required: false
      description: Der Nachname des Elternteils des Reisenden.
      schema:
        type: string
    _anrede_eltern_id:
      in: query
      name: user[hauptperson_attributes][anrede_eltern_id]
      required: false
      description: Die Anrede-ID des Elternteils des Reisenden. 0 = Herr, 1 = Frau.
      schema:
        type: integer
    _strasse:
      in: query
      name: user[hauptperson_attributes][strasse]
      required: true
      description: Die Straße und Hausnummer der Adresse des Reisenden.
      schema:
        example: "Musterstraße 1"
        type: string
    _land:
      in: query
      name: user[hauptperson_attributes][land_attributes][iso]
      required: true
      description: Der ISO-Code des Landes der Adresse des Reisenden. **Wichtig:** Der ISO-Code muss in Großbuchstaben angegeben werden.
      schema:
        type: string
        example: DE
    _plz:
      in: query
      name: user[hauptperson_attributes][plz]
      required: true
      description: Die Postleitzahl der Adresse des Reisenden.
      schema:
        type: string
    _ort:
      in: query
      name: user[hauptperson_attributes][ort]
      required: true
      description: Die Stadt der Adresse des Reisenden.
      schema:
        type: string
        example: Berlin
    _mobil:
      in: query
      name: user[hauptperson_attributes][mobil]
      required: false
      description: Die Mobiltelefonnummer des Reisenden.
      schema:
        type: string
        example: "+49123546"
    _telefon:
      in: query
      name: user[hauptperson_attributes][telefon]
      required: false
      description: Die Telefonnummer des Reisenden.
      schema:
        type: string
        example: "+49987654"
    _englischkenntnisse_jahre:
      in: query
      name: user[hauptperson_attributes][englischkenntnisse_jahre]
      required: false
      description: Die Anzahl der Jahre, die der Teilnehmer Englischunterricht erhält.
      schema:
        type: integer
    _englischkenntnisse_bedarf:
      in: query
      name: user[hauptperson_attributes][englischkenntnisse_bedarf]
      required: false
      description: Der Bedarf des Reisenden an Englischkenntnissen.
      schema:
        type: string
        enum:
          - "sprechen"
          - "lesen"
          - "schreiben"
          - "hoeren"
        example: "sprechen"
    _englischkenntnisse_note:
      in: query
      name: user[hauptperson_attributes][englischkenntnisse_note]
      required: false
      description: Die Note der Englischkenntnisse des Reisenden.
      schema:
        type: string
        enum:
          [
            "sehrgut",
            "gut",
            "befriedigend",
            "ausreichend",
            "mangelhaft",
            "ungenuegend",
            "keine",
          ]
    _schulform:
      in: query
      name: user[hauptperson_attributes][schulform]
      required: false
      description: Die Schulform des Reisenden. Die möglichen Werte können aus den geschlossenen API Endpunkt für die Destination entnommen werden (`data.attributes.schulform_auswahl[0]`).
      schema:
        type: string
    _schulklasse:
      in: query
      name: user[hauptperson_attributes][schulklasse]
      required: false
      description: Die Schulklasse des Reisenden.
      schema:
        type: integer
    _geburtsort:
      in: query
      name: user[hauptperson_attributes][geburtsort]
      required: false
      description: Der Geburtsort des Reisenden.
      schema:
        type: string
        example: Köln
    _ausweisnummer:
      in: query
      name: user[hauptperson_attributes][ausweisnummer]
      required: false
      description: Die Ausweisnummer des Reisenden.
      schema:
        type: string
    _abw_rechnungsadresse:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][abw_rechnungsadresse]
      required: false
      description: Gibt an, ob eine abweichende Rechnungsadresse verwendet wird.
      schema:
        type: boolean
    _art:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][art]
      required: false
      description: Die Art der Sonderadresse (wird für abweichende Rechnungsadressen verwendet).
      schema:
        enum:
          - Rechnungsadresse
        type: string
    _firma:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][firma]
      required: false
      description: Der Name der Firma in der Sonderadresse.
      schema:
        type: string
    _sonder_anrede_id:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][anrede_id]
      required: false
      description: Die Anrede-ID für die Person in der Sonderadresse. 0 = Herr, 1 = Frau.
      schema:
        type: integer
    _sonder_vorname:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][vorname]
      required: false
      description: Der Vorname der Person in der Sonderadresse.
      schema:
        type: string
    _sonder_name:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][name]
      required: false
      description: Der Nachname der Person in der Sonderadresse.
      schema:
        type: string
    _sonder_strasse:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][strasse]
      required: false
      description: Die Straße und Hausnummer der Sonderadresse.
      schema:
        example: "Teststraße 123"
        type: string
    _sonder_land:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][land][iso]
      required: false
      description: Der ISO-Ländercode für das Land der Sonderadresse. **Wichtig:** Der ISO-Code muss in Großbuchstaben angegeben werden.
      schema:
        type: string
    _sonder_plz:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][plz]
      required: false
      description: Die Postleitzahl der Sonderadresse.
      schema:
        type: string
    _sonder_ort:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][ort]
      required: false
      description: Der Ort der Sonderadresse (Stadt).
      schema:
        type: string
        example: Hamburg
    _sonder_email:
      in: query
      name: user[hauptperson_attributes][sonderadressen_attributes][0][email]
      required: false
      description: Die E-Mail-Adresse der Person in der Sonderadresse.
      schema:
        type: string
        example: "max.mustermann@example.com"
    fahrt-id:
      in: query
      name: fahrt
      required: true
      description: Die ID der Fahrt der Buchung
      schema:
        example: 3978a99b253d4706f6e6508d
        type: string

  responses:
    termin-show-200:
      description: Erfolgreiche Abfrage der Termininformationen.
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Die ID des Termins.
                    type:
                      type: string
                      description: Der Typ des Termins.
                    attributes:
                      type: object
                      description: Die Attribute des Termins.
                      properties:
                        id:
                          type: integer
                          description: Die ID des Termins.
                        kurzform:
                          type: string
                          description: Die Kurzform des Termins. Diese ID wird dem Kunden angezeigt.
                        von:
                          type: string
                          description: Das Startdatum des Termins.
                        bis:
                          type: string
                          description: Das Enddatum des Termins.
                        naechte:
                          type: integer
                          nullable: true
                          description: Die Anzahl der Übernachtungen.
                        plaetze:
                          type: string
                          description: Die Anzahl der verfügbaren Plätze.
                        warteliste:
                          type: boolean
                          description: Gibt an, ob eine Warteliste aktiviert ist.
                        preis:
                          type: string
                          description: Der Preis des Termins.
                        alter_von:
                          type: integer
                          nullable: true
                          description: Das Mindestalter für den Termin.
                        alter_bis:
                          type: integer
                          nullable: true
                          description: Das Höchstalter für den Termin.
                        rabattiert:
                          type: boolean
                          description: Gibt an, ob der Termin rabattiert ist.
                        skitage:
                          type: integer
                          nullable: true
                          description: Die Anzahl der Skitage für den Termin.
                        zusatz_info_1:
                          type: string
                          nullable: true
                          description: Zusätzliche Information 1.
                        zusatz_info_2:
                          type: string
                          nullable: true
                          description: Zusätzliche Information 2.
                        gruppierungen:
                          type: array
                          description: Gruppierungen von Buchungsoptionen im Termin.
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                                description: Die ID der Gruppierung.
                              name:
                                type: string
                                description: Der Name der Gruppierung.
                              titel:
                                type: string
                                description: Der Titel der Gruppierung.
                              label:
                                type: string
                                description: Das Label der Gruppierung.
                              placeholder:
                                type: string
                                description: Der Placeholder-Text der Gruppierung. Dieser Text wird beispielsweise in der Buchungsmaske in einem Dropdown-Menü angezeigt, wenn derzeit keine Option ausgewählt wurde.
                              info:
                                type: string
                                description: Die Informationen zur Gruppierung. Dieser Text wird in der Buchungsmaske in einem Info-Tooltip angezeigt.
                              obligatorisch:
                                type: boolean
                                description: Gibt an, ob die Gruppierung obligatorisch ist. Falls ja, muss der Kunde bei der Buchung eine Optionen bzw. die Optionen auswählen.
                              reihenfolge:
                                type: integer
                                description: Die Reihenfolge der Gruppierung.
                    links:
                      type: object
                      description: Links weitere API Abfragen.
                      properties:
                        reiserabatte_url:
                          type: string
                          description: Die URL zum Abrufen der Reiserabatte des Termins.
                        destination_url:
                          type: string
                          description: Die URL das Abrufen der Destinations-Daten der Destination des Termins.
                    relationships:
                      type: object
                      description: Relationships zu anderen Objekten.
                      properties:
                        verpflegungsoptionen:
                          type: object
                          description: Verpflegungsoptionen für den Termin.
                        unterbringungsoptionen:
                          type: object
                          description: Unterbringungsoptionen für den Termin.
                        zubuchbareleistungen:
                          type: object
                          description: Zubuchbare Leistungen für den Termin.
                        abfahrten:
                          type: object
                          description: An- Abreiseoptionen für den Termin.
                        reiserabatte:
                          type: object
                          description: Reiserabatte für den Termin.
              included:
                type: array
                description: Inkludierte Objekte.
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Die ID des inkludierten Objekts.
                    type:
                      type: string
                      description: Der Typ des inkludierten Objekts.
                    attributes:
                      type: object
                      description: Die Attribute des inkludierten Objekts.
                      properties:
                        name:
                          type: string
                          description: Der Name des inkludierten Objekts.
                        beschreibung:
                          type: string
                          description: Die Beschreibung des inkludierten Objekts.
                        zimmerart:
                          type: string
                          description: Die Zimmerart des inkludierten Objekts.
                        preis:
                          type: string
                          description: Der Preis des inkludierten Objekts.
                    meta:
                      type: object
                      description: Metadaten des inkludierten Objekts.
                      properties:
                        updated_at:
                          type: string
                          description: Das Datum der letzten Aktualisierung des Objekts.
                        type:
                          type: string
                          description: Der Typ des Objekts.
          example:
            data:
              - id: "29447"
                type: "termin"
                attributes:
                  id: 29447
                  kurzform: "24-496-06"
                  von: "09.08.2024"
                  bis: "18.08.2024"
                  naechte: 7
                  plaetze: "> 10"
                  warteliste: false
                  preis: "629.0"
                  alter_von: null
                  alter_bis: null
                  rabattiert: true
                  skitage: null
                  zusatz_info_1: null
                  zusatz_info_2: null
                  gruppierungen: null
                links:
                  reiserabatte_url: "https://my.camps.digital/api/v1/reiserabatte/index?termin_id=29447"
                  destination_url: "https://my.camps.digital/api/v1/destinationen/show?id=496"
                relationships:
                  verpflegungsoptionen:
                    data:
                      - id: "34127"
                        type: "verpflegungsoption"
                  unterbringungsoptionen:
                    data:
                      - id: "43625"
                        type: "unterbringungsoption"
                  zubuchbareleistungen:
                    data: []
                  abfahrten:
                    data:
                      - id: "84251888"
                        type: "abfahrt"
                      - id: "84251889"
                        type: "abfahrt"
                  reiserabatte:
                    data:
                      - id: "1724605"
                        type: "reiserabatt"
  schemas:
    availability-per-gender:
      type: integer
      description: Der Wert gibt an, wie viele Plätze für das jeweilige Geschlecht verfügbar sind. Falls kein Wert angegeben wurde **oder** der Wert > 10 ist, wird `null` zurückgegeben.
      nullable: true

paths:
  /api/open_v1/products/index?anbieter_id={ANBIETER_ID}:
    parameters:
      - $ref: "#/components/parameters/anbieter-id"
      - $ref: "#/components/parameters/locale"

    get:
      tags:
        - "Öffentliche API"
      summary: "Destinationen (öffentlich)"
      description: "API zum laden der Destinationen eines Anbieters und ihrer Basisinformationen"
      responses:
        "200":
          description: "Erfolgreiche Anfrage"
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      format: int64
                      description: ID der Destination
                    title:
                      type: string
                      description: Titel der Destination
                    saisons:
                      type: array
                      items:
                        type: string
                      description: Saisons der Destination
                      example: ["Sommer", "Herbst"]
                    min_age:
                      type: integer
                      description: Mindestalter
                    exception_min_age:
                      type: integer
                      description: Maximal erlaubte Unterschreitung des Mindestalters
                    max_age:
                      type: integer
                      description: Höchstalter
                    exception_max_age:
                      type: integer
                      description: Maximal erlaubte Überschreitung des Höchstalters
                    restrictive_age:
                      type: boolean
                      description: Gibt an ob bei der Buchung nur Teilnehmer mit einem Alter innerhalb des definierten Bereichs erlaubt werden
                    location:
                      type: string
                      description: Standort der Destination
                    img_url:
                      type: string
                      format: uri
                      description: URL des Titelbildes, welches für die Destination festgelegt wurde
                    description:
                      type: string
                      description: Beschreibung der Destination
                    product_page_url:
                      type: string
                      format: uri
                      description: URL der Produktseite
                    tags:
                      type: array
                      items:
                        type: string
                      description: Tags der Destination
                    event_count:
                      type: integer
                      description: Anzahl der Termine, die online gestellt sind
                    additional_values:
                      type: array
                      items:
                        nullable: true
                        type: string
                      description: In CADI angegebene zusätzliche Werte
                    daycamp:
                      type: boolean
                      description: Dieser Wert gibt an, ob angeben wurde, dass es sich bei der Destination um ein Daycamp handelt
              example:
                - id: 163
                  title: Actioncamp Alpensommer Zell am See 11-13 Jahre
                  saisons: ["Sommer"]
                  min_age: 11
                  exception_min_age: -1
                  max_age: 13
                  exception_max_age: 1
                  restrictive_age: null
                  location: Zell am See
                  img_url: "https://s3-eu-central-1.amazonaws.com/wwdig-images/reisebilder/bilds/000/009/046/gallery/sommerferien-jugendreise-oesterreich.jpg?1546858001"
                  description: Erlebe eine spannende Woche voller Action und Abenteur in den Bergen. Der Club Kitzsteinhorn ist das Paradies für 11-13 Jahre ★
                  product_page_url: "https://www.jugendreisen.com/jugendreisen/oesterreich/zell-am-see/163-my-actioncamp-alpensommer-zell-am-see-11-13-jahre"
                  tags: ["Action & Abenteuer"]
                  event_count: 17
                  additional_values: ["", ""]
                  daycamp: false
                - id: 239
                  title: Skifreizeit Alpenwinter Zell am See 11-13 Jahre
                  saisons: ["Winter"]
                  min_age: 11
                  exception_min_age: -1
                  max_age: 13
                  exception_max_age: 1
                  restrictive_age: null
                  location: Zell am See
                  img_url: "https://s3-eu-central-1.amazonaws.com/wwdig-images/reisebilder/bilds/000/003/545/gallery/geilste-skijugendreise.jpg?1537777276"
                  description: Zeig mal was du schon kannst - wow - kannst du das auch! Wir bleiben zusammen und erkunden gemeinsam, so sind wir mutig und stark! ♥
                  product_page_url: "https://www.jugendreisen.com/jugendreisen/oesterreich/zell-am-see/239-my-skifreizeit-alpenwinter-zell-am-see-11-13-jahre"
                  tags: ["Ski & Snow"]
                  event_count: 4
                  additional_values: [null, null]
                  daycamp: false
  /api/open_v1/events/index?destination_id={DESTINATION_ID}&host_id={HOST_ID}:
    parameters:
      - $ref: "#/components/parameters/destination-id"
      - $ref: "#/components/parameters/host-id"
      - $ref: "#/components/parameters/locale"
    get:
      description: "Termine einer Destination abrufen"
      summary: "Termine einer Destination (öffentlich)"
      security:
        - {}
      tags:
        - "Öffentliche API"
      responses:
        "200":
          description: "Erfolgreiche Anfrage"
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Termin-ID die dem Kunden angezeigt wird (kann in CADI geändert werden)
                    termin_id:
                      type: integer
                      description: Interne Termin-ID (wird in der Datenbank verwendet und dem Kunden nicht angezeigt)
                    destination_id:
                      type: integer
                      description: ID der Destination
                    booking_url:
                      type: string
                      nullable: true
                      format: uri
                      description: URL zur Buchungsmaske des Termins
                    start:
                      type: string
                      format: date (dd.mm.yyyy)
                      description: Startdatum im Format dd.mm.yyyy
                    end:
                      type: string
                      format: date (dd.mm.yyyy)
                      description: Enddatum im Format dd.mm.yyyy
                    nights:
                      type: integer
                      nullable: true
                      description: Anzahl an Nächten (falls in CADI angegeben)
                    days:
                      type: integer
                      nullable: false
                      description: Anzahl an Tagen
                    price:
                      type: integer
                      nullable: false
                      description: Grundpreis für den Termin (vor Rabatt)
                    discount:
                      type: string
                      description: Rabatt für den Termin (in Euro) mit "." als Dezimaltrennzeichen
                      example: "100.0"
                      nullable: true
                    availability:
                      type: string
                      description: Verfügbarkeit an Plätzen im Termin
                      enum:
                        - "0"
                        - "<= 10"
                        - "> 10"
                    availability_f:
                      $ref: "#/components/schemas/availability-per-gender"
                    availability_m:
                      $ref: "#/components/schemas/availability-per-gender"
                    waitlist:
                      type: boolean
                      description: Dieser Wert gibt an, ob der Termin für den Termin die Warteliste aktiviert wurde
                    additional_values:
                      type: array
                      items:
                        nullable: true
                        type: string
                      description: In CADI angegebene zusätzliche Werte
              example:
                - id: "24-151-01"
                  termin_id: 29239
                  destination_id: 151
                  booking_url: "https://foxsummit.de/buchungsmaske-fox?vendor=Fox&destination_id=151&termin_id=29239&host=57&extern=true&locale=de"
                  start: "27.12.2023"
                  end: "03.01.2024"
                  nights: 5
                  days: 8
                  price: 569
                  discount: null
                  availability: "<= 10"
                  availability_f: 3
                  availability_m: 5
                  waitlist: true
                  additional_values: [null, null]
                - id: "24-151-02"
                  termin_id: 29240
                  destination_id: 151
                  booking_url: "https://foxsummit.de/buchungsmaske-fox?vendor=Fox&destination_id=151&termin_id=29240&host=57&extern=true&locale=de"
                  start: "01.01.2024"
                  end: "07.01.2024"
                  nights: 4
                  days: 7
                  price: 449
                  discount: null
                  availability: "<= 10"
                  availability_f: null
                  availability_m: null
                  waitlist: true
                  additional_values: [null, null]
                - id: "24-151-L1"
                  termin_id: 29241
                  destination_id: 151
                  booking_url: "https://foxsummit.de/buchungsmaske-fox?vendor=Fox&destination_id=151&termin_id=29241&host=57&extern=true&locale=de"
                  start: "27.12.2023"
                  end: "07.01.2024"
                  nights: 9
                  days: 12
                  price: 899
                  discount: null
                  availability: "> 10"
                  availability_f: null
                  availability_m: 9
                  waitlist: true
                  additional_values: [null, null]
                - id: "24-151-P1"
                  termin_id: 29242
                  destination_id: 151
                  booking_url: "https://foxsummit.de/buchungsmaske-fox?vendor=Fox&destination_id=151&termin_id=29242&host=57&extern=true&locale=de"
                  start: "26.12.2023"
                  end: "02.01.2024"
                  nights: 7
                  days: 8
                  price: 1099
                  discount: null
                  availability: "0"
                  availability_f: 0
                  availability_m: 0
                  waitlist: false
                  additional_values: [null, null]
  /api/v1/reiserabatte/index?user=CORS&termin_id={TERMIN_ID}:
    parameters:
      - $ref: "#/components/parameters/termin-id"
    get:
      description: Rabatte für einen Termin abrufen
      summary: Rabatte für einen Termin
      security:
        - CORS: []
      tags:
        - "Geschlossene API"
      responses:
        "200":
          description: "Erfolgreiche Anfrage"
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: ID des Rabatts
                        type:
                          type: string
                          description: Typ des Rabatts
                        attributes:
                          type: object
                          properties:
                            startdatum:
                              type: string
                              format: date (YYYY-MM-DD)
                              nullable: true
                              description: Startdatum des Rabatts (falls vorhanden)
                            enddatum:
                              type: string
                              format: date (YYYY-MM-DD)
                              nullable: true
                              description: Enddatum des Rabatts (falls vorhanden)
                            name:
                              type: string
                              description: Name des Rabatts
                            summe:
                              type: string
                              description: Rabattsumme (in Euro) mit "." als Dezimaltrennzeichen
                example:
                  data:
                    - id: "1724605"
                      type: "reiserabatt"
                      attributes:
                        startdatum: "2023-11-03"
                        enddatum: null
                        name: "Frühbucher"
                        summe: "50.0"
  /api/v1/termine/show?user=CORS&id={TERMIN_ID}&destination_id={DESTINATION_ID}:
    get:
      summary: Termin Details
      description: Abrufen von detaillierten Informationen zu einem Termin.
      parameters:
        - in: query
          name: id
          required: true
          description: Die ID des Termins, dessen Informationen abgerufen werden sollen.
          schema:
            type: integer
        - $ref: "#/components/parameters/destination-id"
        - $ref: "#/components/parameters/locale"
      responses:
        "200":
          $ref: "#/components/responses/termin-show-200"
      security:
        - CORS: []
      tags:
        - "Geschlossene API"
  ? /api/v1/termine/show?user=CORS&id[]={TERMIN_ID}&destination_id={DESTINATION_ID}
  : get:
      summary: Termin Details (Bulk Request)
      description: Abrufen von Informationen zu mehreren Termin in einer gesammelten Anfrage.
      parameters:
        - in: query
          name: id[]
          required: true
          description: Liste aller Termin IDs, deren Informationen abgerufen werden sollen.
          schema:
            type: array
            items:
              type: integer
            example: [29239, 29240, 29241]
        - $ref: "#/components/parameters/destination-id"
        - $ref: "#/components/parameters/locale"
      responses:
        "200":
          $ref: "#/components/responses/termin-show-200"
      security:
        - CORS: []
      tags:
        - "Geschlossene API"
  /api/v1/destinationen/show?user=CORS&id={DESTINATION_ID}:
    parameters:
      - in: query
        name: id
        required: true
        description: Die ID der Destination
        schema:
          type: integer
      - name: simple
        in: query
        description: Gibt an, ob nur die einfachen Daten abgerufen werden sollen. Dadurch ist eine schnellere Antwortzeit möglich.
        required: false
        schema:
          example: true
          default: false
          type: boolean
      - $ref: "#/components/parameters/locale"
    get:
      summary: "Destinationen Details"
      description: "Abrufen von detaillierten Informationen zu einer Destination."
      responses:
        "200":
          description: "Erfolgreiche Anfrage"
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: ID der Destination
                      type:
                        type: string
                        description: Typ der Destination
                      attributes:
                        type: object
                        properties:
                          id:
                            type: integer
                            description: ID der Destination
                          anlagenname:
                            type: string
                            description: Name der Anlage
                          strasse:
                            type: string
                            description: Straße der Anlage
                          plz:
                            type: string
                            description: Postleitzahl der Anlage
                          stadt:
                            type: string
                            description: Stadt der Anlage
                          latitude:
                            type: string
                            description: Breitengrad der Anlage
                          longitude:
                            type: string
                            description: Längengrad der Anlage
                          geo_url:
                            type: string
                            description: URL zur online Karte mit Standort der Anlage
                          saisons:
                            type: array
                            description: Saisons der Destination
                            items:
                              type: string
                          daycamp:
                            type: boolean
                            description: Gibt an, ob es sich um ein Daycamp handelt
                          titel:
                            type: string
                            description: Titel der Destination
                          ort:
                            type: string
                            description: Ort der Destination
                          zahlungsmethoden:
                            type: array
                            description: Akzeptierte Zahlungsmethoden
                            items:
                              type: string
                          alter_von:
                            type: integer
                            nullable: true
                            description: Mindestalter für die Destination
                          ausnahme_alter_von:
                            type: integer
                            nullable: true
                            description: Ausnahme für das Mindestalter
                          alter_bis:
                            type: integer
                            nullable: true
                            description: Höchstalter für die Destination
                          ausnahme_alter_bis:
                            type: integer
                            nullable: true
                            description: Ausnahme für das Höchstalter
                          alter_restriktiv:
                            type: boolean
                            description: Gibt an, ob das Alter restriktiv ist
                          hm_versicherung:
                            type: boolean
                            description: Gibt an, ob in der CADI Buchungsmaske Versicherungen über die Schnittstelle der Hanse Merkur angeboten werden
                          anreise_filter:
                            type: boolean
                            description: Gibt an, ob ein Anreise-Filter angezeigt werden soll. Dieser Wert wird beispielsweise von unserer Termin Tabelle verwendet.
                          ferien_filter:
                            type: boolean
                            description: Gibt an, ob ein Ferien-Filter angezeigt werden soll. Dieser Wert wird beispielsweise von unserer Termin Tabelle verwendet.
                          reisedauer_filter:
                            type: boolean
                            description: Gibt an, ob ein Reisedauer-Filter angezeigt werden soll. Dieser Wert wird beispielsweise von unserer Termin Tabelle verwendet.
                          zusatz_1_online:
                            type: boolean
                            nullable: true
                            description: Gibt an, ob Zusatzinformation 1 online ist und angezeigt werden soll
                          zusatz_2_online:
                            type: boolean
                            nullable: true
                            description: Gibt an, ob Zusatzinformation 2 online ist und angezeigt werden soll
                          zusatz_titel_1:
                            type: string
                            nullable: true
                            description: Titel der Zusatzinformation 1
                          zusatz_titel_2:
                            type: string
                            nullable: true
                            description: Titel der Zusatzinformation 2
                          anreise_spalte_online:
                            type: boolean
                            description: Gibt an, ob die Anreise-Spalte angezeigt werden soll. Dieser Wert wird beispielsweise von unserer Termin Tabelle verwendet.
                          tage_spalte_online:
                            type: boolean
                            description: Gibt an, ob die Tages-Spalte angezeigt werden soll. Dieser Wert wird beispielsweise von unserer Termin Tabelle verwendet.
                          skitage_online:
                            type: boolean
                            description: Gibt an, ob Skitage online sind bzw. in der Travel App eine Angabe für die Anzahl der Skitage gemacht wurde. Dieser Wert wird beispielsweise von unserer Termin Tabelle verwendet.
                          wintersport:
                            type: object
                            description: Enthält alle Informationen für die Anzeige der Formularfelder zum Thema Wintersport in der Buchungsmaske. In dieser kann, wenn eingeschaltet, abgefragt werden welche Wintersportarten der Kunde ausübt und auf welchem Level er sich befindet.
                            properties:
                              sportaten_titel:
                                type: string
                                description: Titel für die Sportarten
                              sportarten:
                                type: array
                                items:
                                  type: string
                                description: Liste der verfügbaren Sportarten
                              stufen_titel:
                                type: string
                                description: Titel für die Stufen
                              stufen:
                                type: array
                                items:
                                  type: string
                                description: Liste der verfügbaren Stufen
                              stufen_info_titel:
                                type: string
                                description: Titel für die Informationen zu den Stufen
                              stufen_info:
                                type: string
                                description: Informationen (Beischreibungen) zu den verschiedenen Stufen
                          golflevel:
                            type: object
                            description: Informationen zum Eingabefeld zum Golf-Level
                            properties:
                              titel:
                                type: string
                                description: Der Titel des Feldes für das Golf-Level
                              info:
                                type: string
                                description: Zusätzliche Informationen zum Golf-Level (Beischreibungen zu den Stufen)
                              optionen:
                                type: array
                                description: Die verfügbaren Optionen für das Golf-Level (Handicap)
                                items:
                                  type: string
                          schwimmlevel:
                            type: object
                            description: Informationen zum Eingabefeld zum Schwimm-Level
                            properties:
                              titel:
                                type: string
                                description: Der Titel für das Schwimm-Level-Feld
                              info:
                                type: string
                                description: Zusätzliche Informationen zum Schwimm-Level (Beischreibungen zu den Stufen)
                              optionen:
                                type: array
                                description: Die verfügbaren Optionen für das Schwimm-Level
                                items:
                                  type: string
                              hilfe_titel:
                                type: string
                                description: Der Titel für die Hilfe zum Schwimm-Level (wird im Info-Tooltip der Buchungsmaske angezeigt)
                              hilfe_info:
                                type: string
                                description: Zusätzliche Informationen zur Hilfe für das Schwimm-Level (wird im Info-Tooltip der Buchungsmaske angezeigt)
                          shirt:
                            type: object
                            description: Informationen zum Eingabefeld zu den T-Shirt-Größen
                            properties:
                              titel:
                                type: string
                                description: Der Titel für die T-Shirt-Größen
                              optionen:
                                type: array
                                description: Die verfügbaren Optionen für T-Shirt-Größen
                                items:
                                  type: string
                          medikation:
                            type: object
                            description: Informationen zum Eingabefeld zur Dauermedikation
                            properties:
                              titel:
                                type: string
                                description: Der Titel für die Dauermedikation
                              info:
                                type: string
                                description: Zusätzliche Informationen zur Dauermedikation
                              id:
                                type: integer
                                description: Die ID für die Dauermedikation
                          krankheiten:
                            type: object
                            description: Informationen zum Eingabefeld zu Krankheiten und Störungen
                            properties:
                              titel:
                                type: string
                                description: Der Titel für Krankheiten und Störungen
                              info:
                                type: string
                                description: Zusätzliche Informationen zu Krankheiten und Störungen
                              id:
                                type: integer
                                description: Die ID für Krankheiten und Störungen
                          verpflegungswunsch:
                            type: object
                            description: Informationen zu Verpflegungswünschen
                            properties:
                              titel:
                                type: string
                                description: Der Titel für Verpflegungswünsche
                              optionen:
                                type: array
                                description: Die verfügbaren Optionen für Verpflegungswünsche
                                items:
                                  type: string
                          verpflegung_abfragen:
                            type: boolean
                            description: Angabe, ob Verpflegungswünsche abgefragt werden
                          gekoppelte_an_abreise:
                            type: boolean
                            description: Angabe, ob gekoppelte An- und Abreise abgefragt werden. Falls ja, ist es bei der Buchung beispielsweise nicht möglich mit dem Bus anzureisen und mit dem Flugzeug abzureisen.
                          divers_anzeigen:
                            type: boolean
                            description: Angabe, ob Divers als Option bei der Wahl der Anrede angezeigt werden soll.
                          share_button_anzeigen:
                            type: boolean
                            description: Angabe, ob der Share-Button angezeigt wird (in der Buchungsmaske)
                          bestpreis_anzeigen:
                            type: boolean
                            description: Angabe, ob der Bestpreis angezeigt wird
                          termin_wechseln_erlauben:
                            type: boolean
                            description: Angabe, ob ein Terminwechsel während des Buchungsprozesses erlaubt ist
                          mitfahrer_abfragen:
                            type: boolean
                            description: Angabe, ob Mitfahrer abgefragt werden. Falls ja, können bei der Buchung Mitfahrer hinzugefügt werden. Auf diese Weise können mehrere Personen gleichzeitig gebucht werden.
                          bezahlungsoptionen_ausblenden:
                            type: boolean
                            description: Angabe, ob Bezahlungsoptionen ausgeblendet werden.
                          eltern_abfragen:
                            type: boolean
                            description: Angabe, ob immer nach den Erziehungsberichtigten gefragt wird
                          anreise_abfragen:
                            type: boolean
                            description: Angabe, ob Anreise abgefragt wird
                          eigeneanreise_text:
                            type: string
                            description: Text für eigene Anreise
                          eigeneabreise_text:
                            type: string
                            description: Text für eigene Abreise
                          unterkunft_abfragen:
                            type: boolean
                            description: Angabe, ob Unterkunft abgefragt wird
                          festnetz_abfragen:
                            type: boolean
                            description: Angabe, ob Festnetznummer abgefragt wird
                          geburtsort_abfragen:
                            type: boolean
                            description: Angabe, ob Geburtsort abgefragt wird
                          ausweisnummer_abfragen:
                            type: boolean
                            description: Angabe, ob Ausweisnummer abgefragt wird
                          schulform_abfragen:
                            type: boolean
                            description: Angabe, ob Schulform abgefragt wird
                          zusatzbedingung_abfragen:
                            type: boolean
                            description: Angabe, ob Zusatzbedingungen abgefragt werden
                          zusatzbedingung:
                            type: string
                            nullable: true
                            description: Zusätzliche Bedingungen. Falls vorhanden muss der Kunde vor Abschluss der Buchung bei den AGBs diesen Zusatzbedingungen zustimmen.
                          englischkenntnisse_abfragen:
                            type: boolean
                            description: Angabe, ob Englischkenntnisse abgefragt werden
                          woher_abfragen:
                            type: boolean
                            description: Angabe, ob nach der Buchung abgefragt werden soll, wie der Kunde auf die Reise aufmerksam geworden ist.
                          alter_pruefen:
                            type: boolean
                            description: Angabe, ob Alter geprüft wird. Dem Kunden wird während der Buchung Feedback gegeben, ob das Alter für die Reise geeignet ist.
                          buchungsbewertung_abfragen:
                            type: boolean
                            description: Angabe, ob Buchungsbewertung abgefragt wird. Falls ja, wird diese nach Abschluss der Buchung abgefragt.
                          googlebewertung_abfragen:
                            type: boolean
                            description: Angabe, ob Google-Bewertung abgefragt wird (nach Buchungsabschluss)
                          rechnungsadresse_abfragen:
                            type: boolean
                            description: Angabe, ob Rechnungsadresse abgefragt wird
                          belegungswunsch_abfragen:
                            type: boolean
                            description: Angabe, ob Belegungswunsch abgefragt wird
                          gutscheincode_abfragen:
                            type: boolean
                            description: Angabe, ob Gutscheincode abgefragt wird
                          gallery_webp:
                            type: string
                            nullable: true
                            description: URL für die WebP-Galerie
                          detail_big_webp:
                            type: string
                            nullable: true
                            description: URL für das WebP-Detailbild
                          hauptsprache:
                            type: string
                            example: "de"
                            nullable: false
                            description: Die Hauptsprache
                          zusatz_sprachen:
                            type: array
                            description: Die zusätzlichen Sprachen. Zum Beispiel Englisch ("en")
                            items:
                              type: string
                          keyfeatures:
                            type: array
                            description: Die Key Features der Destination
                            items:
                              type: string
                          termin_ids:
                            type: array
                            description: Die IDs der Termine
                            items:
                              type: integer
                          individuelle_tabs_online:
                            type: boolean
                            description: Angabe, ob individuelle Tabs online sind. Diese werden zur Darstellung der CADI Termin Tabellen verwendet.
                          individuelle_tabs:
                            type: array
                            description: Die individuellen Tabs
                            items:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  description: Die ID des Tabs
                                name:
                                  type: string
                                  description: Der Name des Tabs
                                termin_ids:
                                  type: array
                                  description: Die IDs der Termine des Tabs
                                  items:
                                    type: integer
                                reihenfolge:
                                  type: integer
                                  description: Die Reihenfolge des Tabs
                                destination_id:
                                  type: integer
                                  description: Die ID der Destination des Tabs
                                aktiv:
                                  type: boolean
                                  description: Angabe, ob der Tab aktiv ist
                          original_url:
                            type: string
                            nullable: false
                            description: Die Original-URL (Reiseausschreibung) der Destination
                      links:
                        type: object
                        description: Links zu weiteren API-Abfragen
                        properties:
                          anbieter_url:
                            type: string
                            description: URL zur Anbieterinformation
                          url:
                            type: string
                            description: URL zur Terminübersicht der Destination
              examples:
                Beispiel-1:
                  summary: "Beispiel 1"
                  value:
                    data:
                      id: "496"
                      type: "destination"
                      attributes:
                        id: 496
                        anlagenname: "Club Kitzsteinhorn"
                        strasse: "Gletschermoosstr. 12"
                        plz: "5700"
                        stadt: "Zell am See"
                        latitude: "47.297"
                        longitude: "12.7911"
                        geo_url: null
                        saisons:
                          - "Sommer"
                        daycamp: false
                        titel: "Actioncamp Alpensommer Zell am See 8-10 Jahre"
                        ort: "Zell am See"
                        zahlungsmethoden:
                          - "Rechnung"
                        alter_von: 8
                        ausnahme_alter_von: null
                        alter_bis: 10
                        ausnahme_alter_bis: 1
                        alter_restriktiv: null
                        hm_versicherung: true
                        anreise_filter: true
                        ferien_filter: true
                        reisedauer_filter: true
                        zusatz_1_online: null
                        zusatz_2_online: null
                        zusatz_titel_1: null
                        zusatz_titel_2: null
                        anreise_spalte_online: true
                        tage_spalte_online: true
                        skitage_online: false
                        wintersport: null
                        golflevel: null
                        schwimmlevel: null
                        shirt: null
                        medikation: null
                        krankheiten: null
                        allergien: null
                        verpflegungswunsch: null
                        verpflegung_abfragen: true
                        gekoppelte_an_abreise: true
                        divers_anzeigen: false
                        share_button_anzeigen: true
                        bestpreis_anzeigen: true
                        termin_wechseln_erlauben: true
                        mitfahrer_abfragen: true
                        bezahlungsoptionen_ausblenden: false
                        eltern_abfragen: true
                        anreise_abfragen: true
                        eigeneanreise_text: "Zwischen 8:30 Uhr - 9:30 Uhr oder zwischen 15:00 Uhr und 16:00 Uhr"
                        eigeneabreise_text: "Ganztägig möglich, spätestens um 19 Uhr - wir bitten um kurze Abmeldung"
                        unterkunft_abfragen: true
                        festnetz_abfragen: null
                        geburtsort_abfragen: null
                        ausweisnummer_abfragen: null
                        schulform_abfragen: null
                        schulform_auswahl: [[]]
                        zusatzbedingung_abfragen: false
                        zusatzbedingung: null
                        englischkenntnisse_abfragen: null
                        woher_abfragen: null
                        woher_auswahl: null
                        alter_pruefen: true
                        buchungsbewertung_abfragen: null
                        googlebewertung_abfragen: null
                        rechnungsadresse_abfragen: null
                        belegungswunsch_abfragen: true
                        gutscheincode_abfragen: true
                        gallery_webp: "https://s3-eu-central-1.amazonaws.com/wwdig-images/reisebilder/bilds/000/009/630/gallery_webp/sommer_freunde_wandern.webp?1638356191"
                        detail_big_webp: "https://s3-eu-central-1.amazonaws.com/wwdig-images/reisebilder/bilds/000/009/056/detail_big_webp/jugendreise-sommer-oesterreich-bananaboot.webp?1546861889"
                        hauptsprache: "de"
                        zusatz_sprachen: null
                        keyfeatures:
                          - "Hochseilgarten"
                          - "Obst Flatrate"
                          - "FreeFall-Rutsche"
                          - "Beachsoccer und Beachvolleyball"
                        termin_ids:
                          - 29424
                          - 29429
                          - 29437
                          - 29442
                          - 29443
                          - 29447
                          - 29451
                          - 29457
                          - 29459
                          - 29460
                          - 29461
                          - 29462
                          - 29463
                          - 29464
                          - 29465
                          - 29498
                          - 29499
                        individuelle_tabs_online: true
                        individuelle_tabs:
                          - id: 215
                            name: "1 Woche"
                            termin_ids:
                              - "28988"
                              - "28990"
                              - "28992"
                              - "28993"
                              - "28994"
                              - "28995"
                              - "29424"
                              - "29429"
                              - "29437"
                              - "29442"
                              - "29443"
                              - "29447"
                              - "29451"
                              - "29457"
                              - "29498"
                            reihenfolge: null
                            destination_id: 496
                            aktiv: true
                          - id: 217
                            name: "2 Wochen"
                            termin_ids:
                              - "29026"
                              - "29027"
                              - "29032"
                              - "29459"
                              - "29460"
                              - "29461"
                              - "29462"
                              - "29463"
                              - "29464"
                              - "29465"
                              - "29499"
                            reihenfolge: null
                            destination_id: 496
                            aktiv: false
                      links:
                        anbieter_url: "https://my.camps.digital/api/v1/anbieter/show?destination_id=496&anbieter_id=2"
                        url: "https://my.camps.digital/api/v1/termine/index?destination_id=496"
                Beispiel-2:
                  summary: "Beispiel 2"
                  value:
                    data:
                      id: "260"
                      type: destination
                      attributes:
                        id: 260
                        anlagenname: St. Peter Ording Nordsee
                        strasse: Barcelona 11
                        plz: "1111"
                        stadt: Haltern
                        latitude: "41.3641"
                        longitude: "2.1562"
                        geo_url: "https://goo.gl/maps/RjURCSPCXaitEoKb8"
                        saisons:
                          - Sommer
                        daycamp: false
                        titel: "TanzCamp Haltern Niederrhein, NRW"
                        ort: Haltern
                        zahlungsmethoden:
                          - Überweisung
                          - SepaManuell
                          - StripeCcard
                          - StripeGiropay
                          - StripeSofort
                          - PaypalNativ
                          - Rechnung
                        alter_von: 10
                        ausnahme_alter_von: -1
                        alter_bis: 14
                        ausnahme_alter_bis: 1
                        alter_restriktiv: false
                        hm_versicherung: true
                        anreise_filter: true
                        ferien_filter: true
                        reisedauer_filter: true
                        zusatz_1_online: false
                        zusatz_2_online: null
                        zusatz_titel_1: null
                        zusatz_titel_2: null
                        anreise_spalte_online: true
                        tage_spalte_online: true
                        skitage_online: false
                        wintersport:
                          sportaten_titel: "Sportart:"
                          sportarten:
                            - Ski
                            - Snowboard
                          stufen_titel: "Level:"
                          stufen:
                            - Stufe Weiß (Anfänger 1)
                            - Stufe Grün (Anfänger 2)
                            - Stufe Blau (Fortgeschrittener 1)
                            - Stufe Rot (Fortgeschrittener 2)
                            - Stufe Schwarz (Fortgeschritten 3)
                            - Stufe Tiefschwarz (Profi)
                          stufen_info_titel: Was ist mein Level?
                          stufen_info: >-
                            Wie ist dein Fahrkönnen?<br><br><b>Stufe Weiß (Anfänger 1)</b><br>Du
                            wirst zum ersten Mal auf Skiern bzw. einem Snowboard
                            stehen!<br><br><b>Stufe Grün (Anfänger 2)</b><br>Du hast schonmal auf
                            Skiern bzw. einem Snowboard gestanden. Du weißt, wie man einen Lift
                            benutzt, kannst in Pflugstellung leichte Abfahrten machen und kommst
                            sicher zum Stehen. (Snowboard: Zick-Zack-Rutschen)<br><br><b>Stufe Blau
                            (Fortgeschrittener 1)</b><br>Du fährst blaue Pisten sicher runter und
                            kannst teilweise schon parallel fahren. (Snowboard: Gewicht verlagern
                            und Driftschwünge)<br><br><b>Stufe Rot (Fortgeschrittener 2)</b><br>Du
                            fährst rote Pisten sicher runter und hast eine parallele Skiführung.
                            (Snowboard: Kippschwung und Carven)<br><br><b>Stufe Schwarz
                            (Fortgeschritten 3)</b><br>Du fährst schwarze Pisten sicher runter und
                            hast eine saubere Technik.<br><br><b>Stufe Tiefschwarz (Profi)</b><br>Du
                            fährst alle Pisten sicher runter- egal, ob Tiefschnee oder frisch
                            präpariert.<br>
                        golflevel:
                          titel: "Handicap:"
                          info: >-
                            Bei uns sind Teilnehmer mit jedem Handicap, egal ob Profi oder Anfänger
                            herzlich willkommen! Bitte nenne uns dein Handicap, damit wir dein Kurs
                            richtig vorbereiten können.
                          optionen:
                            - Anfänger ohne Handicap
                            - 0 - 9
                            - 10 - 18
                            - 19 - 36
                            - 37+
                        schwimmlevel:
                          titel: "Schwimmen:"
                          info: >-
                            Bitte teile uns dein Schwimmlevel mit. Es ist nicht erfoderlich die DLRG
                            Prüfungen absolviert zu haben, sondern es geht um eine Einschätzung des
                            Levels gemäß der DLRG Richtlinie.
                          optionen:
                            - Nichtschwimmer
                            - Seepferdchen (Frühschwimmer)
                            - Bronze (Freischwimmer)
                            - Silber (Guter Schwimmer)
                            - Gold (Sehr guter Schwimmer)
                          hilfe_titel: Was ist dein Schwimmlevel?
                          hilfe_info: >-
                            Wie schätzt du dein Schwimmlevel nach DLRG Richtlinien
                            ein?<br><br><b>Seepferdchen (Frühschwimmer)</b><br>Sprung vom Beckenrand
                            mit anschließendem 25 m Schwimmen in einer Schwimmart in Bauch- oder
                            Rückenlage. Heraufholen eines Gegenstandes mit den Händen aus
                            schultertiefem Wasser.<br><br><b>Bronze (Freischwimmer)</b><br>Einmal
                            ca. 2 m Tieftauchen von der Wasseroberfläche mit Heraufholen eines
                            Gegenstandes. Ein Sprung von 1 m-Brett, ein Sprung kopfwärts vom
                            Beckenrand und 15 Minuten Schwimmen. In dieser Zeit sind mindestens 200
                            m zurückzulegen.<br><br><b>Silber (Guter Schwimmer)</b><br>Sprung
                            kopfwärts vom Beckenrand und 20 Minuten Schwimmen, in dieser Zeit sind
                            mindestens 400 m zurückzulegen. 10 m Streckentauchen mit Abstoßen vom
                            Beckenrand im Wasser. Zweimal ca. 2 m Tieftauchen von der
                            Wasseroberfläche mit Heraufholen je eines Gegenstandes. Sprung aus 3 m
                            Höhe oder zwei verschiedene Sprünge aus 1 m Höhe. <br><br><b>Gold (Sehr
                            guter Schwimmer)</b><br>Sprung kopfwärts vom Beckenrand und 30 Minuten
                            Schwimmen, in dieser Zeit sind mindestens 800 m zurückzulegen.
                            Startsprung und 25 m Kraulschwimmen, 50 m Rückenschwimmen mit
                            Grätschschwung ohne Armtätigkeit oder Rückenkraulschwimmen. 10 m
                            Streckentauchen. Dreimal 2 m Tieftauchen mit Heraufholen je eines
                            Gegenstandes innerhalb von 3 Minuten. Ein Sprung aus 3 m Höhe. 50 m
                            Transportschwimmen.
                        shirt:
                          titel: "T-Shirt:"
                          optionen:
                            - "116"
                            - "128"
                            - "140"
                            - "152"
                            - "164"
                            - Men XS
                            - Men S
                            - Men M
                            - Men L
                            - Men XL
                            - Men XXL
                            - Woman XS
                            - Woman S
                            - Woman M
                            - Woman L
                            - Woman XL
                            - Woman XXL
                        medikation:
                          titel: "Dauermedikation:"
                          info: >-
                            Bitte gib hier die Medikamente an, welche dauerhaft eingenommen werden.
                            Diese Informationen sind sehr wichtig und werden von uns besonders
                            sensibel und verantwortungsbewusst behandelt.
                          id: 701
                        krankheiten:
                          titel: "Krankheiten und Störungen:"
                          info: >-
                            Bitte gib hier Krankenheiten und Störungen an. Diese Informationen sind
                            sehr wichtig und werden von uns besonders sensibel und
                            verantwortungsbewusst behandelt.
                          id: 705
                        allergien: null
                        verpflegungswunsch:
                          titel: "Verpflegungswunsch:"
                          optionen:
                            - - - kein_verpflegungswunsch
                                - Keine Verpflegungswünsche
                              - - vegetarisch
                                - Vegetarisch
                              - - vegan
                                - Vegan
                              - - laktosefrei
                                - Laktosefrei
                              - - keine_milchprodukte
                                - Keine Milchprodukte
                              - - glutenfrei
                                - Glutenfrei
                              - - fructose
                                - Fructose
                              - - nussfrei
                                - Nussfrei
                              - - kein_schweinefleisch
                                - Kein Schweinefleisch
                        verpflegung_abfragen: true
                        gekoppelte_an_abreise: true
                        divers_anzeigen: false
                        share_button_anzeigen: true
                        bestpreis_anzeigen: true
                        termin_wechseln_erlauben: true
                        mitfahrer_abfragen: true
                        bezahlungsoptionen_ausblenden: false
                        eltern_abfragen: true
                        anreise_abfragen: true
                        eigeneanreise_text: Bitte um 14 Uhr anreisen
                        eigeneabreise_text: Bitte um 10 Uhr abholen
                        unterkunft_abfragen: true
                        festnetz_abfragen: false
                        geburtsort_abfragen: true
                        ausweisnummer_abfragen: true
                        schulform_abfragen: true
                        schulform_auswahl:
                          - - - grundschule
                              - Grundschule
                            - - realschule
                              - Realschule
                            - - gymnasium
                              - Gymnasium
                            - - internationale
                              - Internationale Schule
                            - - sonstige
                              - Sonstige
                        zusatzbedingung_abfragen: true
                        zusatzbedingung: >-
                          Ich habe die <a href="https://www.google.de/">Zusatzvereinbarung</a>
                          verstanden.
                        englischkenntnisse_abfragen: true
                        woher_abfragen: true
                        woher_auswahl: |
                          ---
                          - bestandkunde
                          - newsletter
                          - empfehlung
                          - googel_werbeanzeige
                          - google_suchtreffer
                          - instagram
                          - facebook
                          - printwerbung
                          - sonstiges
                        alter_pruefen: true
                        buchungsbewertung_abfragen: true
                        googlebewertung_abfragen: true
                        rechnungsadresse_abfragen: true
                        belegungswunsch_abfragen: true
                        gutscheincode_abfragen: true
                        gallery_webp: >-
                          https://s3-eu-central-1.amazonaws.com/wwdig-images/reisebilder/bilds/000/009/754/gallery_webp/Englischcamps_camps_for_friends_2019_%2813%29.webp?1669131249
                        detail_big_webp: >-
                          https://s3-eu-central-1.amazonaws.com/wwdig-images/reisebilder/bilds/000/009/163/detail_big_webp/Klettern_01.webp?1553529308
                        hauptsprache: de
                        zusatz_sprachen:
                          - en
                        keyfeatures:
                          - Fußballtunier
                          - Eigener Pool
                          - Beachsoccer
                          - 25 Std. Training
                          - Camptrikot
                          - Barcelona Citytour Option
                          - Ski
                        termin_ids:
                          - 29222
                          - 29512
                          - 30616
                          - 30617
                        individuelle_tabs_online: true
                        individuelle_tabs:
                          - id: 236
                            name: 1 Woche
                            termin_ids:
                              - "12911"
                              - "12912"
                              - "12913"
                              - "12914"
                              - "28938"
                              - "29222"
                              - "29512"
                              - "30617"
                            reihenfolge: 1
                            destination_id: 260
                            aktiv: true
                          - id: 237
                            name: 2 Wochen
                            termin_ids:
                              - "12910"
                              - "30616"
                            reihenfolge: 2
                            destination_id: 260
                            aktiv: false
                        original_url: "https://www.oskar-lernt-englisch.de/sprachcamps/haltern-tanzcamp"
                      links:
                        anbieter_url: >-
                          https://dev.wirtschaftswunder.digital/api/v1/anbieter/show?destination_id=260&anbieter_id=13
                        url: >-
                          https://dev.wirtschaftswunder.digital/api/v1/termine/index?destination_id=260
      security:
        - CORS: []
      tags:
        - "Geschlossene API"
  /masken/buchungen.json:
    post:
      tags:
        - "Geschlossene API"
      summary: "Buchung erstellen"
      description: "Erstellt eine Buchung für eine Destination. **Wichtig: die Buchung wird mit einer Fahrt-ID angelegt, aber noch nicht als abgeschlossene Buchung gespeichert. Um sie als abgeschlossene Buchung zu speichern ist ein weiterer API Call notwendig.**"
      parameters:
        # Hauptperson
        - $ref: "#/components/parameters/_termin-id"
        - $ref: "#/components/parameters/_vendor"
        - $ref: "#/components/parameters/_vendor-quelle"
        - $ref: "#/components/parameters/_zbbl"
        - $ref: "#/components/parameters/_anfrage"
        - $ref: "#/components/parameters/_rabatte_attributes_name"
        - $ref: "#/components/parameters/_rabatte_attributes_summe"
        - $ref: "#/components/parameters/_rabatte_attributes_gutschein"
        - $ref: "#/components/parameters/_abfahrt_id"
        - $ref: "#/components/parameters/_rueckfahrt_id"
        - $ref: "#/components/parameters/_unterbringungsoption_id"
        - $ref: "#/components/parameters/_verpflegungsoption_id"
        - $ref: "#/components/parameters/_sportart"
        - $ref: "#/components/parameters/_stufe"
        - $ref: "#/components/parameters/_golflevel"
        - $ref: "#/components/parameters/_schwimmlevel"
        - $ref: "#/components/parameters/_shirt"
        - $ref: "#/components/parameters/_verpflegungswunsch"
        - $ref: "#/components/parameters/_woher"
        - $ref: "#/components/parameters/_notice_id"
        - $ref: "#/components/parameters/_notice_text"
        - $ref: "#/components/parameters/_vorname"
        - $ref: "#/components/parameters/_name"
        - $ref: "#/components/parameters/_geburtstag"
        - $ref: "#/components/parameters/_anrede_id"
        - $ref: "#/components/parameters/_divers"
        - $ref: "#/components/parameters/_nation"
        - $ref: "#/components/parameters/_freunde"
        - $ref: "#/components/parameters/_vorname_eltern"
        - $ref: "#/components/parameters/_name_eltern"
        - $ref: "#/components/parameters/_anrede_eltern_id"
        - $ref: "#/components/parameters/_strasse"
        - $ref: "#/components/parameters/_land"
        - $ref: "#/components/parameters/_plz"
        - $ref: "#/components/parameters/_ort"
        - $ref: "#/components/parameters/_mobil"
        - $ref: "#/components/parameters/_telefon"
        - $ref: "#/components/parameters/_englischkenntnisse_jahre"
        - $ref: "#/components/parameters/_englischkenntnisse_bedarf"
        - $ref: "#/components/parameters/_englischkenntnisse_note"
        - $ref: "#/components/parameters/_schulform"
        - $ref: "#/components/parameters/_schulklasse"
        - $ref: "#/components/parameters/_geburtsort"
        - $ref: "#/components/parameters/_ausweisnummer"
        - $ref: "#/components/parameters/_abw_rechnungsadresse"
        - $ref: "#/components/parameters/_art"
        - $ref: "#/components/parameters/_firma"
        - $ref: "#/components/parameters/_sonder_anrede_id"
        - $ref: "#/components/parameters/_sonder_vorname"
        - $ref: "#/components/parameters/_sonder_name"
        - $ref: "#/components/parameters/_sonder_strasse"
        - $ref: "#/components/parameters/_sonder_land"
        - $ref: "#/components/parameters/_sonder_plz"
        - $ref: "#/components/parameters/_sonder_ort"
        - $ref: "#/components/parameters/_sonder_email"
        # Mitfahrer
        - in: query
          name: user[personen_attributes][0][_destroy]
          required: false
          description: Plflichtfeld für Mitfahrer. Muss für jeden Mitfahrer gesetzt werden.
          schema:
            enum:
              - false
            type: boolean
        - $ref: "#/components/parameters/_termin-id"
          name: user[personen_attributes][0][buchungen_attributes][0][termin_id]
          required: false
        - $ref: "#/components/parameters/_vendor"
          name: user[personen_attributes][0][buchungen_attributes][0][vendor]
          required: false
        - $ref: "#/components/parameters/_vendor-quelle"
          name: user[personen_attributes][0][buchungen_attributes][0][vendor_quelle]
          required: false
        - $ref: "#/components/parameters/_zbbl"
          name: user[personen_attributes][0][buchungen_attributes][0][zubuchbareleistung_ids[]]
          required: false
        - $ref: "#/components/parameters/_anfrage"
          name: user[personen_attributes][0][buchungen_attributes][0][anfrage]
          required: false
        - $ref: "#/components/parameters/_rabatte_attributes_name"
          name: user[personen_attributes][0][buchungen_attributes][0][rabatte_attributes][0][name]
          required: false
        - $ref: "#/components/parameters/_rabatte_attributes_summe"
          name: user[personen_attributes][0][buchungen_attributes][0][rabatte_attributes][0][summe]
          required: false
        - $ref: "#/components/parameters/_rabatte_attributes_gutschein"
          name: user[personen_attributes][0][buchungen_attributes][0][rabatte_attributes][0][gutschein]
          required: false
        - $ref: "#/components/parameters/_abfahrt_id"
          name: user[personen_attributes][0][buchungen_attributes][0][abfahrt_id]
          required: false
        - $ref: "#/components/parameters/_rueckfahrt_id"
          name: user[personen_attributes][0][buchungen_attributes][0][rueckfahrt_id]
          required: false
        - $ref: "#/components/parameters/_unterbringungsoption_id"
          name: user[personen_attributes][0][buchungen_attributes][0][unterbringungsoption_id]
          required: false
        - $ref: "#/components/parameters/_verpflegungsoption_id"
          name: user[personen_attributes][0][buchungen_attributes][0][verpflegungsoption_id]
          required: false
        - $ref: "#/components/parameters/_sportart"
          name: user[personen_attributes][0][buchungen_attributes][0][sportart]
          required: false
        - $ref: "#/components/parameters/_stufe"
          name: user[personen_attributes][0][buchungen_attributes][0][stufe]
          required: false
        - $ref: "#/components/parameters/_golflevel"
          name: user[personen_attributes][0][buchungen_attributes][0][golflevel]
          required: false
        - $ref: "#/components/parameters/_schwimmlevel"
          name: user[personen_attributes][0][buchungen_attributes][0][schwimmlevel]
          required: false
        - $ref: "#/components/parameters/_shirt"
          name: user[personen_attributes][0][buchungen_attributes][0][shirt]
          required: false
        - $ref: "#/components/parameters/_verpflegungswunsch"
          name: user[personen_attributes][0][buchungen_attributes][0][verpflegungswunsch[]]
          required: false
        - $ref: "#/components/parameters/_woher"
          name: user[personen_attributes][0][buchungen_attributes][0][woher[]]
          required: false
        - $ref: "#/components/parameters/_notice_id"
          name: user[personen_attributes][0][buchungen_attributes][0][notice_answers_attributes][0][notice_id]
          required: false
        - $ref: "#/components/parameters/_notice_text"
          name: user[personen_attributes][0][buchungen_attributes][0][notice_answers_attributes][0][text]
          required: false
        - $ref: "#/components/parameters/_vorname"
          name: user[personen_attributes][0][vorname]
          required: false
        - $ref: "#/components/parameters/_name"
          name: user[personen_attributes][0][name]
          required: false
        - $ref: "#/components/parameters/_geburtstag"
          name: user[personen_attributes][0][geburtstag]
          required: false
        - $ref: "#/components/parameters/_anrede_id"
          name: user[personen_attributes][0][anrede_id]
          required: false
        - $ref: "#/components/parameters/_divers"
          name: user[personen_attributes][0][divers]
          required: false
        - $ref: "#/components/parameters/_nation"
          name: user[personen_attributes][0][nation_attributes][iso]
          required: false
        - $ref: "#/components/parameters/_freunde"
          name: user[personen_attributes][0][freunde]
          required: false
        - $ref: "#/components/parameters/_vorname_eltern"
          name: user[personen_attributes][0][vorname_eltern]
          required: false
        - $ref: "#/components/parameters/_name_eltern"
          name: user[personen_attributes][0][name_eltern]
          required: false
        - $ref: "#/components/parameters/_anrede_eltern_id"
          name: user[personen_attributes][0][anrede_eltern_id]
          required: false
        - $ref: "#/components/parameters/_strasse"
          name: user[personen_attributes][0][strasse]
          required: false
        - $ref: "#/components/parameters/_land"
          name: user[personen_attributes][0][land_attributes][iso]
          required: false
        - $ref: "#/components/parameters/_plz"
          name: user[personen_attributes][0][plz]
          required: false
        - $ref: "#/components/parameters/_ort"
          name: user[personen_attributes][0][ort]
          required: false
        - $ref: "#/components/parameters/_mobil"
          name: user[personen_attributes][0][mobil]
          required: false
        - $ref: "#/components/parameters/_telefon"
          name: user[personen_attributes][0][telefon]
          required: false
        - $ref: "#/components/parameters/_englischkenntnisse_jahre"
          name: user[personen_attributes][0][englischkenntnisse_jahre]
          required: false
        - $ref: "#/components/parameters/_englischkenntnisse_bedarf"
          name: user[personen_attributes][0][englischkenntnisse_bedarf]
          required: false
        - $ref: "#/components/parameters/_englischkenntnisse_note"
          name: user[personen_attributes][0][englischkenntnisse_note]
          required: false
        - $ref: "#/components/parameters/_schulform"
          name: user[personen_attributes][0][schulform]
          required: false
        - $ref: "#/components/parameters/_schulklasse"
          name: user[personen_attributes][0][schulklasse]
          required: false
        - $ref: "#/components/parameters/_geburtsort"
          name: user[personen_attributes][0][geburtsort]
          required: false
        - $ref: "#/components/parameters/_ausweisnummer"
          name: user[personen_attributes][0][ausweisnummer]
          required: false
        - $ref: "#/components/parameters/_abw_rechnungsadresse"
          name: user[personen_attributes][0][sonderadressen_attributes][0][abw_rechnungsadresse]
          required: false
        - $ref: "#/components/parameters/_art"
          name: user[personen_attributes][0][sonderadressen_attributes][0][art]
          required: false
        - $ref: "#/components/parameters/_firma"
          name: user[personen_attributes][0][sonderadressen_attributes][0][firma]
          required: false
        - $ref: "#/components/parameters/_sonder_anrede_id"
          name: user[personen_attributes][0][sonderadressen_attributes][0][anrede_id]
          required: false
        - $ref: "#/components/parameters/_sonder_vorname"
          name: user[personen_attributes][0][sonderadressen_attributes][0][vorname]
          required: false
        - $ref: "#/components/parameters/_sonder_name"
          name: user[personen_attributes][0][sonderadressen_attributes][0][name]
          required: false
        - $ref: "#/components/parameters/_sonder_strasse"
          name: user[personen_attributes][0][sonderadressen_attributes][0][strasse]
          required: false
        - $ref: "#/components/parameters/_sonder_land"
          name: user[personen_attributes][0][sonderadressen_attributes][0][land][iso]
          required: false
        - $ref: "#/components/parameters/_sonder_plz"
          name: user[personen_attributes][0][sonderadressen_attributes][0][plz]
          required: false
        - $ref: "#/components/parameters/_sonder_ort"
          name: user[personen_attributes][0][sonderadressen_attributes][0][ort]
          required: false
        - $ref: "#/components/parameters/_sonder_email"
          name: user[personen_attributes][0][sonderadressen_attributes][0][email]
          required: false
        # Sonstige (für alle TN)
        - in: query
          name: user[email]
          required: true
          description: Die E-Mail-Adresse für die Buchung. **Wichtig:** An diese E-Mail-Adresse wird die Buchungskopie gesendet.
          schema:
            format: email
            type: string
        - in: query
          name: extern
          required: true
          description: Gibt an, ob der Benutzer extern ist. Dieser Parameter ist in der Regel auf `true` zu setzen.
          schema:
            type: boolean
        - in: query
          name: locale
          required: true
          description: Die Sprache in der die Buchung vorgenommen wurde. **Wichtig:** Der Wert sollte in Kleinbuchstaben angegeben werden.
          schema:
            type: string
            example: de
        - in: query
          name: vendor
          required: true
          description: Der Anbieter des Buchungsprodukts.
          schema:
            type: string
        - in: query
          name: no_mail
          required: true
          description: Gibt an, ob E-Mails an den Benutzer gesendet werden sollen.
          schema:
            type: boolean
        - in: query
          name: format
          required: false
          description: Das Format der Antwort.
          schema:
            type: string
            example: json

      responses:
        "201":
          description: "Fahrt ID generieren"
          content:
            application/json:
              schema:
                type: object
                properties:
                  fahrt:
                    type: string
                    description: Fahrt ID der neu angelegten Buchung.
                    nullable: false
  ? /payment/webservice/anzahlungssumme.json?hex_id={FAHRT_ID}&gesamtsumme={GESAMTSUMME}&personen_anzahl={PERSONEN_ANZAHL}
  : get:
      summary: Anzahlungssumme
      description: |
        Diese API ermöglicht es, die Anzahlungssumme und verwandte Informationen für eine Buchung abzurufen.
      parameters:
        - $ref: "#/components/parameters/fahrt-id"
          name: hex_id
        - in: query
          name: gesamtsumme
          required: true
          description: Die Gesamtsumme der Buchung
          schema:
            type: integer
        - in: query
          name: personen_anzahl
          required: true
          description: Die Anzahl der Personen in der Buchung
          schema:
            type: integer
      tags:
        - "Geschlossene API"
      responses:
        "200":
          description: Erfolgreiche Abfrage der Anzahlungssumme
          content:
            application/json:
              schema:
                type: object
                properties:
                  anzahlungsfaelligkeit:
                    type: integer
                    description: Der Zeitpunkt, an dem die Anzahlung fällig ist (0 bedeutet sofort)
                  anzahlungssumme:
                    type: integer
                    description: Die Höhe der Anzahlungssumme
                  fixed_anzahlungsfaelligkeit:
                    type: boolean
                    description: Gibt an, ob die Anzahlungsfrist fixiert ist
                  purchase_vorlauf_tage:
                    type: integer
                    description: Die Anzahl der Tage vor dem Kauf, bevor die Zahlung fällig ist
                  restzahlungsfaelligkeit:
                    type: string
                    format: date
                    description: Das Datum, an dem die Restzahlung fällig ist
                  restzahlungssumme:
                    type: integer
                    description: Die Höhe der Restzahlungssumme
                  saldo_ausgeglichen:
                    type: boolean
                    description: Gibt an, ob der Saldo ausgeglichen ist
                  summedirektzubezahlen:
                    type: integer
                    description: Die Gesamtsumme, die direkt bezahlt werden muss
                  tage_nach_bestaetigung:
                    type: integer
                    description: Die Anzahl der Tage nach Bestätigung der Buchung, bevor die Zahlung fällig ist
  ? /masken/bezahlungen/bezahlen?format=json&fahrt={FAHRT}&extern={EXTERN}&locale={LOCALE}&no_mail={NO_MAIL}&vendor={VENDOR}
  : get:
      summary: Buchung
      description: |
        Dieser API Endpunkt ermöglicht es, Buchung durchzuführen.
      parameters:
        - $ref: "#/components/parameters/fahrt-id"
          name: fahrt
        - in: query
          name: extern
          required: true
          description: Gibt an, ob es sich um eine externe Buchungsmaske handelt. Dieser Wert sollte in der Regel auf `true` gesetzt werden.
          schema:
            type: boolean
        - in: query
          name: locale
          required: true
          description: Die Sprache in der die Buchung erfolgt. Der Wert sollte in Kleinbuchstaben angegeben werden.
          schema:
            example: de
            type: string
        - in: query
          name: no_mail
          required: true
          description: Gibt an, ob auf eine E-Mail an den Kunden verzichtet werden soll.
          schema:
            type: boolean
        - in: query
          name: vendor
          required: true
          description: Der Vendor auf den die Buchung zurückgeführt werden soll.
          schema:
            type: string
        - in: query
          name: format
          required: true
          description: Das Format der Antwort. Hier ist in der Regel `json` zu verwenden.
          schema:
            type: string
      tags:
        - "Geschlossene API"
      responses:
        "201":
          description: Erfolgreiche Buchung
          content:
            application/json:
              schema:
                type: object
                properties:
                  response:
                    type: string
                    description: Statusmeldung der Bezahlung
                  name:
                    type: string
                    description: Name des Hauptbuchers
  /api/v1/bezahlungen/payment_information?user=CORS&fahrt={FAHRT}:
    get:
      summary: Abrufen von offenen zu überweisenden Summen
      description: |
        Diese API ermöglicht es, Informationen über offene zu überweisende Summen abzurufen.
      parameters:
        - $ref: "#/components/parameters/fahrt-id"
          name: fahrt
      tags:
        - "Geschlossene API"
      responses:
        "200":
          description: Erfolgreich abgerufene Zahlungsinformationen
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: Gibt an, ob die Anfrage erfolgreich war
                  restbetrag:
                    type: string
                    description: Der Restbetrag, der zu überweisen ist.
                    example: "799.0"
                  buchungsnummer:
                    type: string
                    description: Die Buchungsnummer (falls verfügbar). *Falls nicht verfügbar, wird ein leerer `String` Wert zurückgegeben.*
                  vorname:
                    type: string
                    description: Der Vorname des Hauptbuchers
                  nachname:
                    type: string
                    description: Der Nachname des Hauptbuchers
                  anrede:
                    type: string
                    enum:
                      - Herr
                      - Frau
                    description: Die Anrede des Hauptbuchers
                  anbieter:
                    type: object
                    properties:
                      name:
                        type: string
                        description: Der Name des Anbieters
                      email:
                        type: string
                        description: Die E-Mail-Adresse des Anbieters
                      iban:
                        type: string
                        description: Die IBAN des Anbieters
                      bic:
                        type: string
                        description: Der BIC des Anbieters
              example:
                success: true
                restbetrag: "799.0"
                buchungsnummer: ""
                vorname: Tim
                nachname: Tester
                anrede: Herr
                anbieter:
                  name: Demo-Anbieter
                  email: demo@jugendreisen.digital
                  iban: DE27300501101007743592
                  bic: DUSSDEDDXXX
  /masken/buchungen/email.json:
    put:
      summary: E-Mail Adresse ändern
      description: Ermöglicht die Aktualisierung der E-Mail-Adresse im Buchungsvorgang vor Abschluss der Buchung.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  description: Die neue E-Mail-Adresse des Hauptbuchers
                  example: test@ww.digital
                email_eltern:
                  type: string
                  description: Die neue E-Mail-Adresse der Eltern
                  example: test@ww.digital
                fahrt:
                  type: string
                  description: Die ID der Fahrt
                  example: "0ad4f33bd6df22fa10483a28"
      tags:
        - "Geschlossene API"
      responses:
        "200":
          description: E-Mail erfolgreich aktualisiert
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Statusmeldung
                  callback:
                    type: object
                    nullable: true
                    description: "*DEPRECATED*"
                example:
                  message: saved
                  callback: null
  ? /masken/buchungen/add_gutschein.json?gutschein={GUTSCHEIN_CODE}&termin_id={TERMIN_ID}
  : get:
      tags:
        - "Öffentliche API"
      summary: Gutschein prüfen
      description: Ermöglicht das Abrufen des Wert eines Gutscheins.
      parameters:
        - in: query
          name: gutschein
          required: true
          description: Der Gutscheincode, der hinzugefügt werden soll.
          schema:
            type: string
        - $ref: "#/components/parameters/termin-id"
          name: termin_id
          description: Die ID des Termins, zu dem der Gutschein hinzugefügt werden soll.
      responses:
        "200":
          description: Erfolgreich Anfrage (Gutschein kann aber ungültig sein)
          content:
            application/json:
              schema:
                type: object
                properties:
                  rabatt:
                    type: string
                    description: Der Rabatt Wert des Gutscheins in Euro. **Achtung:** Dieser Wert ist negativ und muss zur Gesamtsumme *addiert* werden.
                    example: "-80.0"
                    nullable: true
                  callback:
                    type: string
                    description: Ein optionaler Callback oder Hinweis
                    nullable: true
              examples:
                no_discount:
                  summary: Ungültiger Gutschein
                  value:
                    rabatt: null
                    callback: null
                discount:
                  summary: Gültiger Gutschein
                  value:
                    rabatt: "-80.0"
                    callback: null
  ? /api/v1/bezahlungen/init?fahrt={FAHRT_ID}&success_url={SUCCESS_URL}&cancel_url={CANCEL_URL}&zahlungssumme={SUMME}&betreff={BETREFF}&bezahlmethode={ZAHLUNGSMETHODE}&user=CORS
  : get:
      summary: Initiierung einer Bezahlung über Stripe Checkout
      description: Über diesen API Endpunkt kann eine Bezahlung über Stripe Checkout durchgeführt werden.
      parameters:
        - $ref: "#/components/parameters/fahrt-id"
          name: fahrt
        - in: query
          name: success_url
          required: true
          description: Die URL, zu der der Benutzer nach einer erfolgreichen Bezahlung weitergeleitet werden soll.
          schema:
            type: string
        - in: query
          name: cancel_url
          required: true
          description: Die URL, zu der der Benutzer bei Abbruch oder Fehlschlagen der Bezahlung weitergeleitet werden soll.
          schema:
            type: string
        - in: query
          name: zahlungssumme
          required: true
          description: Die Gesamtsumme der Bezahlung **in Euro**.
          schema:
            example: 799
            type: integer
        - in: query
          name: betreff
          required: true
          description: Der Betreff oder die Beschreibung der Bezahlung. Hier ist der Titel der Reise / des Angebots zu wählen.
          schema:
            type: string
        - in: query
          name: bezahlmethode
          required: true
          description: Die Bezahlmethode, die verwendet werden soll (z.B. "card" für Kreditkarte).
          schema:
            example: card
            type: string
      tags:
        - "Geschlossene API"
      security:
        - CORS: []
      responses:
        "200":
          description: Erfolgreiche Initialisierung der Bezahlung
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: Gibt an, ob die Bezahlung erfolgreich initialisiert wurde.
                  anbieter_stripe_key:
                    type: string
                    description: Der öffentliche Stripe API-Schlüssel des Anbieters (public API key).
                  session:
                    type: object
                    description: Die Stripe Checkout Session. Weitere Details können der offiziellen [Stripe Dokumentation](https://docs.stripe.com/api/checkout/sessions/object) entnommen werden.
